<!DOCTYPE html>
<html lang="en">

<head>
  <title>Connect 4 Bot 7x7</title>
  <link rel="stylesheet" type="text/css" href="connect4bot7x7.css">
</head>

<body>
  <h1 style='text-align: center'>7x7 Connect 4 Bot</h1>

  <div id = "board">
    <script>
      const ROWS = 7, COLS = 7;
      const board = document.getElementById("board");
      for (let c = 0; c < COLS; c++) {

        const column = document.createElement("div");
        column.innerHTML = `<div class='col' style='left: ${100 / COLS * c}%;'></div>`;
        column.onclick = async e => {
          e.preventDefault();
          console.log(`clicked column ${c}`);
          const res = await fetch(`http://localhost:7000/col?move=${c}`, {method: "GET"});
          const data = await res.json();
          console.log(data.col);
        }
        board.appendChild(column);

        for (let r = 0; r < ROWS; r++) {
          const cell = document.createElement("span");
          cell.innerHTML = `<span class='cell' style='left: ${100 / COLS * c}%; top: ${100 / ROWS * r}%'></span>`;
          column.appendChild(cell);
        }
      }
    </script>
  </div>

  <span class="piece"></span>
</body>

</html>
