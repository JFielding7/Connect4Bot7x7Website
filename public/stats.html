<!DOCTYPE html>
<html lang="en">

<head>
    <title>7x7 Connect 4 Stats</title>
    <link rel="stylesheet" type="text/css" href="stats.css"/>
    <link rel="shortcut icon" href="connect4.png" type="image/x-icon"/>
    <script src="stats.js"></script>
</head>

<body onload="fetch_stats()">
    <h1 style="margin: 5vh auto 7vh auto; font-size: 7vh; text-align: center">Your Stats</h1>

    <div id="stats-container" style="display: flex">
        <script>
            for (const [category, title] of [["first", "Going First"], ["second", "Going Second"], ["total", "Total"]]) {
                const stat_container = document.createElement("div");
                stat_container.className = "stat-container";
                stat_container.innerHTML = `
                        <h1 class="stat-title">${title}</h1>
                        <h1 id="${category}-count" class="games-count"></h1>

                        <div class="stat-bar">
                            <div id="${category}-win-bar" class="win-bar"></div>
                            <div id="${category}-draw-bar" class="draw-bar"></div>
                            <div id="${category}-loss-bar" class="loss-bar"></div>
                        </div>

                        <div class="stats">
                            <div class="stat">
                                <div class="stat-color win-color"></div>
                                <h2 id="${category}-wins" class="stat-value"></h2>
                            </div>
                            <div class="stat">
                                <span class="stat-color draw-color"></span>
                                <h2 id="${category}-draws" class="stat-value"></h2>
                            </div>
                            <div class="stat">
                                <span class="stat-color loss-color"></span>
                                <h2 id="${category}-losses" class="stat-value"></h2>
                            </div>
                        </div>`;
                document.getElementById("stats-container").appendChild(stat_container);
            }
        </script>
    </div>

    <button onclick="location.href ='http://localhost:7000'">Return To Home</button>
</body>

</html>